<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Form Pengujian Keamanan Internal</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/form_style.css">
</head>
<div class="card form-card">
    <div class="card-header form-header">
        Form Pengujian Keamanan Aplikasi Internal
    </div>
    <div class="card-body">
        <form id="formPengujianInternal" action="/form_pengujian_internal" method="post" enctype="multipart/form-data">
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="tanggal" class="form-label">Tanggal Pengajuan Pengujian Keamanan:</label>
                    <input type="date" id="tanggal" name="tanggal" class="form-control form-control-sm">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="nama_aplikasi" class="form-label">Nama Aplikasi:</label>
                    <input type="text" id="nama_aplikasi" name="nama_aplikasi" class="form-control form-control-sm">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="nama_pic" class="form-label">Nama PIC Aplikasi:</label>
                    <input type="text" id="nama_pic" name="nama_pic" class="form-control form-control-sm">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="email_pic" class="form-label">Email PIC:</label>
                    <input type="email" id="email_pic" name="email_pic" class="form-control form-control-sm">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="nomor_telepon" class="form-label">Nomor Telepon PIC:</label>
                    <input type="text" id="nomor_telepon" name="nomor_telepon" class="form-control form-control-sm">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="unit_kerja" class="form-label">Unit Kerja:</label>
                    <input type="text" id="unit_kerja" name="unit_kerja" class="form-control form-control-sm">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="url_aplikasi" class="form-label">URL Aplikasi:</label>
                    <input type="url" id="url_aplikasi" name="url_aplikasi" class="form-control form-control-sm">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="alamat_ip" class="form-label">Alamat IP:</label>
                    <input type="text" id="alamat_ip" name="alamat_ip" class="form-control form-control-sm">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="versi_aplikasi" class="form-label">Versi Aplikasi:</label>
                    <input type="text" id="versi_aplikasi" name="versi_aplikasi" class="form-control form-control-sm">
                </div>
                <div class="col-md-6 mb-3">
                    <label class="form-label">Jenis Aplikasi:</label>
                    <div class="form-check form-check-inline">
                        <input type="radio" id="web" name="jenis_aplikasi" value="web" class="form-check-input">
                        <label for="web" class="form-check-label">Aplikasi WEB</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input type="radio" id="mobile" name="jenis_aplikasi" value="mobile" class="form-check-input">
                        <label for="mobile" class="form-check-label">Aplikasi Mobile</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input type="radio" id="desktop" name="jenis_aplikasi" value="desktop" class="form-check-input">
                        <label for="desktop" class="form-check-label">Aplikasi Desktop</label>
                    </div>
                </div>
                <div class="col-md-6 mb-3">
                    <label for="framework" class="form-label">Framework yang digunakan:</label>
                    <input type="text" id="framework" name="framework" class="form-control form-control-sm">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="bahasa_pemrograman" class="form-label">Bahasa Pemrograman yang digunakan:</label>
                    <input type="text" id="bahasa_pemrograman" name="bahasa_pemrograman" class="form-control form-control-sm">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="sistem_database" class="form-label">Sistem Database yang digunakan:</label>
                    <input type="text" id="sistem_database" name="sistem_database" class="form-control form-control-sm">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="web_server" class="form-label">WEB Server yang digunakan:</label>
                    <input type="text" id="web_server" name="web_server" class="form-control form-control-sm">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="dokumen_pendukung" class="form-label">Upload Dokumen Pendukung:</label>
                    <input type="file" id="dokumen_pendukung" name="dokumen_pendukung" class="form-control form-control-sm">
                </div>
            </div>
            <div class="d-flex justify-content-between">
                <a href="/" class="btn btn-secondary btn-sm">Kembali</a>
                <button type="submit" class="btn btn-primary btn-sm">Submit</button>
            </div>
        </form>
        <div id="notification" class="alert alert-success mt-3" style="display: none;">
            Data berhasil disimpan!
        </div>
    </div>
</div>
</html>

<script>
$(document).ready(function() {
    $('#formPengujianInternal').on('submit', function(e) {
        e.preventDefault();
        var formData = new FormData(this);

        $.ajax({
            url: '/form_pengujian_internal',
            type: 'POST',
            data: formData,
            processData: false,
            contentType: false,
            success: function(response) {
                if (response.success) {
                    $('#notification').show().delay(3000).fadeOut();
                } else {
                    alert(response.message);
                }
            },
            error: function() {
                alert('Gagal menyimpan data');
            }
        });
    });
});
</script>
